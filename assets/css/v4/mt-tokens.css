/*
 * Mobility Trailblazers — CSS v4 Tokens
 * Date: 2025-08-25
 * Scope: global tokens for TT5 + plugin
 * Notes:
 * - Colors match main site palette (cream bg, deep teal, deep blue, copper)
 * - Includes semantic tokens + component defaults
 * - Includes v3 alias variables to avoid breaking old styles
 */

:root,
:root[data-mt-theme="default"] {
  /* 1) Color primitives */
  --mt-white: #ffffff;
  --mt-black: #000000;
  --mt-cream-50: #F8F0E3;      /* site background */
  --mt-teal-900: #003C3D;      /* primary */
  --mt-blue-800: #004C5F;      /* secondary */
  --mt-copper-600: #C1693C;    /* accent */
  --mt-accent-blue-300: #A4DCD5; /* borders and subtle tints */
  --mt-text-900: #302C37;      /* body text */

  /* Neutrals (UI grays) */
  --mt-gray-25: #fcfcfd;
  --mt-gray-50: #f6f7f8;
  --mt-gray-100: #edf0f2;
  --mt-gray-200: #dfe3e6;
  --mt-gray-300: #cdd3d8;
  --mt-gray-400: #b6bec5;
  --mt-gray-500: #9aa4ad;
  --mt-gray-600: #7b8792;
  --mt-gray-700: #5f6b76;
  --mt-gray-800: #44505b;
  --mt-gray-900: #2c3440;

  /* 2) Semantic colors */
  --mt-color-bg: var(--mt-cream-50);
  --mt-color-surface: var(--mt-white);
  --mt-color-text: var(--mt-text-900);
  --mt-color-muted: var(--mt-gray-700);
  --mt-color-border: var(--mt-accent-blue-300);

  --mt-color-primary: var(--mt-teal-900);
  --mt-color-primary-contrast: var(--mt-white);

  --mt-color-secondary: var(--mt-blue-800);
  --mt-color-secondary-contrast: var(--mt-white);

  --mt-color-accent: var(--mt-copper-600);
  --mt-color-accent-contrast: var(--mt-white);

  /* Feedback (kept neutral but brand-friendly) */
  --mt-color-success: #2e7d32;
  --mt-color-warning: #ff9800;
  --mt-color-error: #d32f2f;

  /* 3) Typography */
  /* Font families for different levels */
  --mt-font-primary: "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  --mt-font-secondary: "Trebuchet MS", "Helvetica Neue", Arial, sans-serif;
  --mt-font-body: Roboto, Arial, Helvetica, sans-serif;
  --mt-font-heading-alt: Cabin, "Helvetica Neue", Arial, sans-serif;
  --mt-font-mono: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  
  /* Legacy alias */
  --mt-font-sans: var(--mt-font-primary);

  /* Desktop typography sizes (exact from JSON) */
  --mt-fs-body: 18px;
  --mt-fs-h1: 4em;        /* 64px at base 16px */
  --mt-fs-h2: 3.2em;      /* 51.2px at base 16px */
  --mt-fs-h3: 132px;      /* Exact from JSON */
  --mt-fs-h4: 22px;
  --mt-fs-h5: 137px;      /* Exact from JSON */
  --mt-fs-h6: 121px;      /* Exact from JSON */
  --mt-fs-accent: 28px;   /* Accent text style */
  
  /* Tablet typography (max-width: 1025px) */
  --mt-fs-body-tablet: 14px;
  --mt-fs-h1-tablet: 7vw;
  --mt-fs-h2-tablet: 5vw;
  
  /* Mobile typography (max-width: 768px) */
  --mt-fs-body-mobile: 18px;
  --mt-fs-h1-mobile: 28px;
  --mt-fs-h2-mobile: 40px;
  --mt-fs-h4-mobile: 18px;
  
  /* Font weights */
  --mt-fw-regular: 400;
  --mt-fw-semibold: 600;
  
  /* Text transforms */
  --mt-text-transform-h1: uppercase;
  --mt-text-transform-h4: capitalize;
  --mt-text-transform-accent: capitalize;
  
  /* Letter spacing */
  --mt-letter-spacing-h1: -0.02em;
  
  /* Line heights */
  --mt-leading-tight: 1.1;
  --mt-leading-headings: 1.2;
  --mt-leading-normal: 1.5;
  --mt-leading-loose: 1.75;
  --mt-leading-accent: 1;
  
  /* Legacy type scale (keep for backward compatibility) */
  --mt-fs-xs: clamp(0.78rem, 0.72rem + 0.20vw, 0.88rem);
  --mt-fs-sm: clamp(0.90rem, 0.84rem + 0.20vw, 1.00rem);
  --mt-fs-base: var(--mt-fs-body);
  --mt-fs-lg: clamp(1.125rem, 1.05rem + 0.35vw, 1.35rem);
  --mt-fs-xl: clamp(1.35rem, 1.20rem + 0.80vw, 1.90rem);
  --mt-fs-2xl: clamp(1.60rem, 1.40rem + 1.20vw, 2.40rem);

  /* 4) Spacing scale (4px baseline) */
  --mt-space-0: 0;
  --mt-space-1: 0.25rem;  /* 4px */
  --mt-space-2: 0.5rem;   /* 8px */
  --mt-space-3: 0.75rem;  /* 12px */
  --mt-space-4: 1rem;     /* 16px */
  --mt-space-5: 1.25rem;  /* 20px */
  --mt-space-6: 1.5rem;   /* 24px */
  --mt-space-8: 2rem;     /* 32px */
  --mt-space-10: 2.5rem;  /* 40px */
  --mt-space-12: 3rem;    /* 48px */
  --mt-space-16: 4rem;    /* 64px */

  /* 5) Radii */
  --mt-radius-xs: 4px;
  --mt-radius-sm: 8px;
  --mt-radius-md: 12px;
  --mt-radius-lg: 16px;
  --mt-radius-xl: 20px;
  --mt-radius-2xl: 24px;
  --mt-radius-pill: 999px;

  /* 6) Borders */
  --mt-border-width: 1px;
  --mt-border-width-lg: 2px;
  --mt-focus-ring: 0 0 0 3px rgba(164, 220, 213, 0.60); /* based on accent-blue-300 */

  /* 7) Shadows */
  --mt-shadow-sm: 0 1px 2px rgba(0,0,0,0.08);
  --mt-shadow-md: 0 6px 20px rgba(0,0,0,0.10);
  --mt-shadow-lg: 0 12px 30px rgba(0,0,0,0.12);

  /* 8) Motion */
  --mt-ease: cubic-bezier(0.2, 0.0, 0.0, 1);
  --mt-animate-fast: 120ms;
  --mt-animate: 220ms;
  --mt-animate-slow: 400ms;

  /* 9) Breakpoints (exact from requirements) */
  --mt-bp-sm: 480px;
  --mt-bp-md: 768px;       /* Mobile breakpoint */
  --mt-bp-lg: 1025px;      /* Tablet breakpoint (note: 1025px not 1024px) */
  --mt-bp-xl: 1280px;

  /* 10) Component defaults */
  /* Cards */
  --mt-card-bg: var(--mt-color-bg);
  --mt-card-text: var(--mt-color-text);
  --mt-card-border: var(--mt-color-border);
  --mt-card-radius: var(--mt-radius-lg);
  --mt-card-shadow: var(--mt-shadow-md);
  --mt-card-padding: var(--mt-space-6);

  /* Buttons (exact from requirements) */
  --mt-button-radius: 10px;
  --mt-button-text-color: var(--mt-teal-900);           /* #003C3D */
  --mt-button-gradient-start: var(--mt-copper-600);     /* #C1693C */
  --mt-button-gradient-end: rgba(0, 76, 95, 0.8);       /* #004C5FCC */
  --mt-button-gradient-angle: 90deg;
  --mt-button-gradient: linear-gradient(var(--mt-button-gradient-angle), var(--mt-button-gradient-start), var(--mt-button-gradient-end));
  --mt-button-border: 1px solid rgba(2, 1, 1, 0);       /* Full transparency */
  --mt-button-shadow: 0 2px 8px rgba(0, 0, 0, 0.07);
  
  /* Button hover states */
  --mt-button-hover-bg: #B86F52;
  --mt-button-hover-text: var(--mt-teal-900);           /* #003C3D */
  --mt-button-hover-border: var(--mt-copper-600);       /* #C1693C */
  
  /* Legacy button tokens for backward compatibility */
  --mt-button-primary-bg: var(--mt-button-gradient);
  --mt-button-primary-text: var(--mt-button-text-color);
  --mt-button-primary-hover: var(--mt-button-hover-bg);
  --mt-button-accent-bg: var(--mt-button-gradient);
  --mt-button-accent-text: var(--mt-button-text-color);
  --mt-button-accent-hover: var(--mt-button-hover-bg);

  /* Inputs */
  --mt-input-bg: var(--mt-white);
  --mt-input-text: var(--mt-color-text);
  --mt-input-border: var(--mt-color-border);
  --mt-input-radius: var(--mt-radius-sm);
  --mt-input-padding-y: 10px;
  --mt-input-padding-x: 12px;

  /* Links (semantic) */
  --mt-link-color: var(--mt-color-secondary);
  --mt-link-hover: #00364f;

  /* Social links mapping used on candidate profiles */
  --mt-link-linkedin: var(--mt-color-secondary);
  --mt-link-website: var(--mt-color-accent);

  /* 11) Layout helpers */
  --mt-container-max: 1120px;
  --mt-section-gap: var(--mt-space-12);

  /* 12) Legacy aliases (v3 → v4) */
  --mt-bg-beige: var(--mt-color-bg);
  --mt-blue-accent: var(--mt-color-border);
  --mt-primary: var(--mt-color-primary);
  --mt-secondary: var(--mt-color-secondary);
  --mt-accent: var(--mt-color-accent);
  --mt-body: var(--mt-color-text);
  --mt-text: var(--mt-color-text);
  --mt-border: var(--mt-color-border);
  
  /* Additional legacy mappings for backward compatibility */
  --mt-color-primary-dark: #002a2b;
  --mt-color-primary-light: #005253;
  --mt-font-family: var(--mt-font-sans);
  --mt-font-headings: var(--mt-font-sans);
  --mt-font-size-base: var(--mt-fs-base);
  --mt-font-size-small: var(--mt-fs-sm);
  --mt-font-size-large: var(--mt-fs-lg);
  --mt-font-size-h1: var(--mt-fs-2xl);
  --mt-font-size-h2: var(--mt-fs-xl);
  --mt-font-size-h3: var(--mt-fs-lg);
  --mt-line-height: var(--mt-leading-normal);
  --mt-space: var(--mt-space-4);
  --mt-space-sm: var(--mt-space-2);
  --mt-space-md: var(--mt-space-3);
  --mt-space-lg: var(--mt-space-6);
  --mt-space-xl: var(--mt-space-8);
  --mt-space-2xl: var(--mt-space-12);
  --mt-touch-target: 44px;
  --mt-touch-target-large: 48px;
  --mt-touch-padding: var(--mt-space-3);
  --mt-gap: var(--mt-space-5);
  --mt-radius: var(--mt-radius-md);
  --mt-shadow: var(--mt-shadow-md);
  --mt-transition: all var(--mt-animate) var(--mt-ease);
  --mt-transition-fast: all var(--mt-animate-fast) var(--mt-ease);
  
  /* Additional legacy color mappings */
  --mt-color-white: var(--mt-white);
  --mt-color-gray-light: var(--mt-gray-100);
  --mt-color-gray-medium: var(--mt-gray-500);
  --mt-color-gray-dark: var(--mt-gray-700);
  
  /* Container and layout tokens for responsive design */
  --mt-container-fluid: min(90vw, var(--mt-container-max));
  --mt-container-padding: clamp(var(--mt-space-4), 5vw, var(--mt-space-8));
  
  /* Enhanced accessibility tokens */
  --mt-focus-width: 2px;
  --mt-focus-offset: 2px;
  --mt-focus-ring-enhanced: 0 0 0 var(--mt-focus-width) var(--mt-color-secondary), 0 0 0 calc(var(--mt-focus-width) + var(--mt-focus-offset)) var(--mt-white);
  
  /* Print media tokens */
  --mt-print-bg: var(--mt-white);
  --mt-print-text: var(--mt-black);
  --mt-print-border: var(--mt-gray-400);
  
  /* High contrast mode support */
  --mt-high-contrast-bg: Canvas;
  --mt-high-contrast-text: CanvasText;
  --mt-high-contrast-link: LinkText;
}

/* Optional dark theme hook (disabled by default) */
/*
:root[data-mt-theme="dark"] {
  --mt-color-bg: #15191c;
  --mt-color-surface: #1c2226;
  --mt-color-text: #e8eaed;
  --mt-color-muted: #a9b1b8;
  --mt-color-border: #2b3238;
  --mt-card-bg: var(--mt-color-surface);
  --mt-card-text: var(--mt-color-text);
}
*/

/* ============================================
   Global Base Styles - Applied Everywhere
   ============================================ */

/* HTML & Body Foundation */
html { 
  background: var(--mt-color-bg);  /* #F8F0E3 */
}

body {
  color: var(--mt-color-text);     /* #302C37 */
  background-color: var(--mt-color-bg);  /* #F8F0E3 */
  font-family: var(--mt-font-body);
  font-weight: var(--mt-fw-regular);
  font-size: var(--mt-fs-body);
  line-height: var(--mt-leading-normal);
}

/* Typography - Global Heading Styles */
h1, .h1 {
  font-family: var(--mt-font-primary);
  font-weight: var(--mt-fw-regular);
  font-size: var(--mt-fs-h1);
  text-transform: var(--mt-text-transform-h1);
  line-height: var(--mt-leading-headings);
  letter-spacing: var(--mt-letter-spacing-h1);
}

h2, .h2 {
  font-family: var(--mt-font-secondary);
  font-weight: var(--mt-fw-regular);
  font-size: var(--mt-fs-h2);
  line-height: var(--mt-leading-headings);
}

h3, .h3 {
  font-family: var(--mt-font-secondary);
  font-weight: var(--mt-fw-regular);
  font-size: var(--mt-fs-h3);
  line-height: var(--mt-leading-headings);
}

h4, .h4 {
  font-family: var(--mt-font-heading-alt);
  font-weight: var(--mt-fw-semibold);
  font-size: var(--mt-fs-h4);
  text-transform: var(--mt-text-transform-h4);
  line-height: var(--mt-leading-headings);
}

h5, .h5 {
  font-family: var(--mt-font-heading-alt);
  font-weight: var(--mt-fw-regular);
  font-size: var(--mt-fs-h5);
  line-height: var(--mt-leading-headings);
}

h6, .h6 {
  font-family: var(--mt-font-heading-alt);
  font-weight: var(--mt-fw-regular);
  font-size: var(--mt-fs-h6);
  line-height: var(--mt-leading-headings);
}

/* Links - Global Styles */
a {
  color: var(--mt-copper-600);  /* #C1693C */
  text-decoration: underline;
  transition: var(--mt-transition);
}

a:hover,
a:focus {
  color: var(--mt-teal-900);    /* #003C3D */
  text-decoration: none;
}

/* Buttons - Global Styles for ALL Button Elements */
button,
input[type="button"],
input[type="submit"],
input[type="reset"],
.button,
.mt-button,
.wp-element-button,
.wp-block-button__link,
.elementor-button,
.btn {
  /* Typography */
  color: var(--mt-button-text-color);
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  line-height: var(--mt-leading-headings);
  text-decoration: none;
  
  /* Background */
  background: var(--mt-button-gradient);
  
  /* Border & Shape */
  border: var(--mt-button-border);
  border-radius: var(--mt-button-radius);
  
  /* Effects */
  box-shadow: var(--mt-button-shadow);
  transition: var(--mt-transition);
  
  /* Layout */
  display: inline-block;
  padding: 0.75em 1.5em;
  cursor: pointer;
}

button:hover,
input[type="button"]:hover,
input[type="submit"]:hover,
input[type="reset"]:hover,
.button:hover,
.mt-button:hover,
.wp-element-button:hover,
.wp-block-button__link:hover,
.elementor-button:hover,
.btn:hover,
button:focus,
input[type="button"]:focus,
input[type="submit"]:focus,
input[type="reset"]:focus,
.button:focus,
.mt-button:focus,
.wp-element-button:focus,
.wp-block-button__link:focus,
.elementor-button:focus,
.btn:focus {
  color: var(--mt-button-hover-text);
  background: var(--mt-button-hover-bg);
  border-color: var(--mt-button-hover-border);
  box-shadow: var(--mt-shadow-md);
}

/* Accent Text Utility Class */
.accent-text,
.mt-accent-text {
  font-family: var(--mt-font-body);
  font-weight: var(--mt-fw-regular);
  font-size: var(--mt-fs-accent);
  text-transform: var(--mt-text-transform-accent);
  line-height: var(--mt-leading-accent);
}

/* Focus ring utilities */
.mt-focus-ring:focus { 
  outline: none; 
  box-shadow: var(--mt-focus-ring); 
}

.mt-focus-ring-enhanced:focus { 
  outline: none; 
  box-shadow: var(--mt-focus-ring-enhanced); 
}

/* Token-based utility classes */
.mt-surface { background: var(--mt-color-surface); }
.mt-bg { background: var(--mt-color-bg); }
.mt-text { color: var(--mt-color-text); }
.mt-text-muted { color: var(--mt-color-muted); }

.mt-radius { border-radius: var(--mt-radius-md); }
.mt-radius-sm { border-radius: var(--mt-radius-sm); }
.mt-radius-lg { border-radius: var(--mt-radius-lg); }

.mt-shadow { box-shadow: var(--mt-shadow-md); }
.mt-shadow-sm { box-shadow: var(--mt-shadow-sm); }
.mt-shadow-lg { box-shadow: var(--mt-shadow-lg); }

.mt-transition { transition: var(--mt-transition); }
.mt-transition-fast { transition: var(--mt-transition-fast); }

/* Responsive container utilities */
.mt-container { 
  max-width: var(--mt-container-max); 
  margin: 0 auto; 
  padding: 0 var(--mt-container-padding); 
}

.mt-container-fluid { 
  width: var(--mt-container-fluid); 
  margin: 0 auto; 
}

/* Print styles */
@media print {
  .mt-print-hide { display: none; }
  .mt-print-bg { background: var(--mt-print-bg); }
  .mt-print-text { color: var(--mt-print-text); }
}

/* ============================================
   Media Queries - Responsive Typography
   ============================================ */

/* Tablet: max-width 1025px */
@media (max-width: 1025px) {
  body {
    font-size: var(--mt-fs-body-tablet);
  }
  
  h1, .h1 {
    font-size: var(--mt-fs-h1-tablet);
  }
  
  h2, .h2 {
    font-size: var(--mt-fs-h2-tablet);
  }
}

/* Mobile: max-width 768px */
@media (max-width: 768px) {
  body {
    font-size: var(--mt-fs-body-mobile);
  }
  
  h1, .h1 {
    font-size: var(--mt-fs-h1-mobile);
    line-height: var(--mt-leading-tight);
  }
  
  h2, .h2 {
    font-size: var(--mt-fs-h2-mobile);
  }
  
  h4, .h4 {
    font-size: var(--mt-fs-h4-mobile);
  }
  
  /* Adjust button padding for mobile */
  button,
  input[type="button"],
  input[type="submit"],
  input[type="reset"],
  .button,
  .mt-button,
  .wp-element-button,
  .wp-block-button__link,
  .elementor-button,
  .btn {
    padding: 0.625em 1.25em;
  }
}

/* High contrast support */
@media (prefers-contrast: high) {
  :root {
    --mt-color-bg: var(--mt-high-contrast-bg);
    --mt-color-text: var(--mt-high-contrast-text);
    --mt-link-color: var(--mt-high-contrast-link);
  }
}